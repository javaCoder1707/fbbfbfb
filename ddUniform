using System;
using System.Drawing;
using System.Windows.Forms;

namespace ApplicantTrackingSystem
{
    public class CommentForm : Form
    {
        private TextBox txtComment;
        private Button btnOk, btnCancel;
        
        public string CommentText { get; private set; }

        public CommentForm(string initialComment = "")
        {
            InitializeComponent();
            txtComment.Text = initialComment;
            this.Text = "Добавление комментария";
        }

        private void InitializeComponent()
        {
            this.Size = new Size(400, 250);
            this.StartPosition = FormStartPosition.CenterParent;
            this.FormBorderStyle = FormBorderStyle.FixedDialog;
            this.MaximizeBox = false;
            this.MinimizeBox = false;

            // Текстовое поле для комментария
            txtComment = new TextBox();
            txtComment.Location = new Point(10, 10);
            txtComment.Size = new Size(365, 150);
            txtComment.Multiline = true;
            txtComment.ScrollBars = ScrollBars.Vertical;
            txtComment.Font = new Font("Segoe UI", 9);
            this.Controls.Add(txtComment);

            // Кнопки
            btnOk = new Button();
            btnOk.Text = "Сохранить";
            btnOk.Location = new Point(100, 170);
            btnOk.Size = new Size(100, 30);
            btnOk.BackColor = Color.FromArgb(46, 204, 113);
            btnOk.ForeColor = Color.White;
            btnOk.Font = new Font("Segoe UI", 9, FontStyle.Bold);
            btnOk.Click += BtnOk_Click;
            this.Controls.Add(btnOk);

            btnCancel = new Button();
            btnCancel.Text = "Отмена";
            btnCancel.Location = new Point(210, 170);
            btnCancel.Size = new Size(100, 30);
            btnCancel.BackColor = Color.FromArgb(149, 165, 166);
            btnCancel.ForeColor = Color.White;
            btnCancel.Font = new Font("Segoe UI", 9);
            btnCancel.Click += (s, e) => this.DialogResult = DialogResult.Cancel;
            this.Controls.Add(btnCancel);

            this.AcceptButton = btnOk;
            this.CancelButton = btnCancel;
        }

        private void BtnOk_Click(object sender, EventArgs e)
        {
            CommentText = txtComment.Text;
            this.DialogResult = DialogResult.OK;
            this.Close();
        }
    }
}